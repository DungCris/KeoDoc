<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Game K·∫πo ƒê·ªôc 2 Ng∆∞·ªùi ‚Äì Anh D≈©ng & Qu·ª≥nh Anh</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      text-align: center;
      background: url('anh-nen.jpg') no-repeat center center fixed;
      background-size: cover;
      padding: 30px;
      color: #fff;
    }
    h1 {
      color: #ffccff;
      font-family: 'Comic Sans MS', cursive;
      text-shadow: 2px 2px 4px #000;
    }
    .avatars {
      display: flex;
      justify-content: center;
      gap: 50px;
      margin-top: 10px;
    }
    .avatar {
      display: flex;
      flex-direction: column;
      align-items: center;
      color: #fff;
      text-shadow: 1px 1px 2px #000;
      font-weight: bold;
    }
    .avatar img {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      border: 3px solid #fff;
      object-fit: cover;
      margin-bottom: 5px;
    }
    .candies {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 15px;
      margin-top: 30px;
    }
    .candy {
      width: 70px;
      height: 70px;
      background-color: rgba(255, 224, 240, 0.8);
      border-radius: 50%;
      cursor: pointer;
      line-height: 70px;
      font-size: 28px;
      transition: 0.3s;
      border: 2px dashed #ff66b2;
      user-select: none;
      box-shadow: 2px 2px 6px #00000066;
    }
    .candy:hover {
      background-color: rgba(255, 204, 230, 0.9);
    }
    .message, .turn, .scoreboard {
      font-size: 20px;
      margin-top: 20px;
      text-shadow: 1px 1px 2px #000;
    }
    .turn {
      color: #ffffcc;
      font-weight: bold;
      font-family: 'Comic Sans MS', cursive;
    }
    .message {
      color: #ffdddd;
    }
    .scoreboard {
      color: #ffeeff;
      font-weight: bold;
    }
    button {
      margin-top: 25px;
      padding: 10px 20px;
      font-size: 16px;
      background-color: #ff66b2;
      color: white;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      font-family: 'Comic Sans MS', cursive;
      box-shadow: 2px 2px 6px #000;
    }
    button:hover {
      background-color: #e64d94;
    }
  </style>
</head>
<body>

  <h1>üç¨ Tr√≤ ch∆°i K·∫πo ƒê·ªôc ‚Äì Anh D≈©ng & Qu·ª≥nh Anh üç¨</h1>

  <div class="avatars">
    <div class="avatar">
      <img src="quynhanh.jpg" alt="Qu·ª≥nh Anh">
      Qu·ª≥nh Anh
    </div>
    <div class="avatar">
      <img src="anhdung.jpg" alt="Anh D≈©ng">
      Anh D≈©ng
    </div>
  </div>

  <div class="scoreboard" id="scoreBoard"></div>
  <div class="turn" id="turnInfo"></div>
  <div class="candies" id="candies"></div>
  <div class="message" id="message"></div>
  <button onclick="resetGame()">üç≠ Ch∆°i v√°n m·ªõi</button>

  <audio id="safeSound" src="https://www.soundjay.com/buttons/sounds/button-09.mp3"></audio>
  <audio id="boomSound" src="https://www.soundjay.com/button/beep-07.mp3"></audio>

  <!-- Nh·∫°c n·ªÅn YouTube autoplay ·∫©n -->
  <iframe width="0" height="0" src="https://www.youtube.com/embed/UwuAPyOImoI?autoplay=1&loop=1&playlist=UwuAPyOImoI" frameborder="0" allow="autoplay" allowfullscreen style="display:none"></iframe>

  <script>
    const numCandies = 20;
    const players = ["Anh D≈©ng", "Qu·ª≥nh Anh"];
    let currentPlayer = 0;
    let poisonIndex = -1;
    let gameOver = false;
    let scores = [0, 0];

    const punishments = [
      "üíÉ Nh·∫£y 1 ƒëi·ªáu b·∫•t k·ª≥",
      "üé§ H√°t 1 ƒëo·∫°n b√†i h√°t",
      "üê∏ Gi·∫£ ti·∫øng con v·∫≠t",
      "üì∑ Ch·ª•p ·∫£nh m·∫∑t h√†i h∆∞·ªõc",
      "üï∫ M√∫a 10 gi√¢y",
      "üçã ƒÇn l√°t chanh"
    ];

    function shufflePoison() {
      poisonIndex = Math.floor(Math.random() * numCandies);
    }

    function drawCandies() {
      const container = document.getElementById('candies');
      container.innerHTML = '';
      for (let i = 0; i < numCandies; i++) {
        const candy = document.createElement('div');
        candy.className = 'candy';
        candy.innerText = 'üç¨';
        candy.onclick = () => chooseCandy(i);
        container.appendChild(candy);
      }
    }

    function updateTurnInfo() {
      const turnDiv = document.getElementById('turnInfo');
      if (!gameOver) {
        turnDiv.innerText = `üëâ L∆∞·ª£t c·ªßa: ${players[currentPlayer]}`;
      } else {
        turnDiv.innerText = '';
      }
    }

    function updateScoreBoard() {
      const sb = document.getElementById('scoreBoard');
      sb.innerHTML = `üèÜ ${players[0]}: ${scores[0]} &nbsp;&nbsp;|&nbsp;&nbsp; ${players[1]}: ${scores[1]} üèÜ`;
    }

    function chooseCandy(index) {
      if (gameOver) return;

      const candies = document.getElementsByClassName('candy');
      const message = document.getElementById('message');
      const safeSound = document.getElementById('safeSound');
      const boomSound = document.getElementById('boomSound');

      if (candies[index].classList.contains('clicked')) return;

      candies[index].classList.add('clicked');
      candies[index].style.cursor = 'default';

      if (index === poisonIndex) {
        candies[index].style.backgroundColor = 'black';
        candies[index].innerText = '‚ò†Ô∏è';
        boomSound.play();
        const punishment = punishments[Math.floor(Math.random() * punishments.length)];
        message.innerHTML = `üí• <strong>${players[currentPlayer]}</strong> ƒë√£ tr√∫ng vi√™n k·∫πo ƒê·ªòC!<br>H√¨nh ph·∫°t: <strong>${punishment}</strong>`;
        gameOver = true;
        updateTurnInfo();
        scores[1 - currentPlayer]++;
        updateScoreBoard();
        return;
      } else {
        candies[index].style.backgroundColor = '#ccffcc';
        candies[index].innerText = '‚úÖ';
        safeSound.play();
        currentPlayer = 1 - currentPlayer;
        updateTurnInfo();
      }
    }

    function resetGame() {
      gameOver = false;
      currentPlayer = Math.floor(Math.random() * 2);
      shufflePoison();
      drawCandies();
      document.getElementById('message').innerText = '';
      updateTurnInfo();
      updateScoreBoard();
    }

    resetGame();
  </script>
</body>
</html>
